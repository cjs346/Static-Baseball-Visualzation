<!DOCTYPE html>
<html>
<head>
	<title>Project 1</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<!--<svg width=500 height=500></svg>-->
	<div id="main"></div>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.7.1/d3.js"></script>
	<script type="text/javascript" src="js/pathGenerator.js"></script>
	<script type="text/javascript" src="js/ballpark.js"></script>
	<script type="text/javascript">
		var ballparks;

		d3.csv("csv/ballparks.csv", function(d) {
			return{
				ballpark: d.ballpark,
				homeTeam: d.hometeam,
				teamName: d.hometeamname,
				lf: +d.leftfield,
				lcf: +d.leftcenterfield,
				cf: +d.centerfield,
				rcf: +d.rightcenterfield,
				rf: +d.rightfield
			};
		}, function(error,data) {
			ballparks = data;

			for (var i = 0; i < ballparks.length; i++) {
				var svg = d3.select("#main")
					.append("svg")
					.attr("width", 500)
					.attr("height", 500)
					.attr("id", ballparks[i].ballpark);

				svg.append("text")
					.text(ballparks[i].ballpark)
					.attr("font-family", "Helvetica")
					.attr("text-anchor", "left")
					.attr("x", 24)
					.attr("y", 24)
					.attr("font-weight", "bold");

				svg.append("text")
					.text(ballparks[i].teamName)
					.attr("font-family", "Helvetica")
					.attr("text-anchor", "left")
					.attr("x", 24)
					.attr("y", 48);

				var park = new Ballpark(svg, {
					lf: ballparks[i].lf,
					lcf: ballparks[i].lcf,
					cf: ballparks[i].cf,
					rcf: ballparks[i].rcf,
					rf: ballparks[i].rf
				});
			}
		});

		// @TODO implement drawHomeRuns function
		park.drawHomeRuns([
			{distance: 450, horizAngle: 45, homeTeam: true},
			{distance: 499, horizAngle: 62, homeTeam: false},
			{distance: 530, horizAngle: 11, homeTeam: true}
		]);
	</script>
</body>
</html>
